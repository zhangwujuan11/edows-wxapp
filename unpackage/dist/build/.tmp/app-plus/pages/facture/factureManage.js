(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/facture/factureManage"],{"5a58":function(t,e,n){"use strict";n.r(e);var a=n("8b82"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=r.a},"5f13":function(t,e,n){"use strict";var a=n("dcb2"),r=n.n(a);r.a},"784e":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r})},"8b82":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("a34a")),r=n("2f62");function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,a,r,i,u){try{var s=t[i](u),c=s.value}catch(o){return void n(o)}s.done?e(c):Promise.resolve(c).then(a,r)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var i=t.apply(e,n);function s(t){u(i,a,r,s,c,"next",t)}function c(t){u(i,a,r,s,c,"throw",t)}s(void 0)})}}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){o(t,e,n[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={data:function(){return{isShowDel:!1,subFlag:!0,specClass:"none",invoiceId:"",factureData:{bank:"",bankNo:"",id:"",isDefult:0,licenseNo:"",mobile:"",nsrsbh:"",payable:"",regAddress:""}}},computed:c({},(0,r.mapState)(["hasLogin","userInfo"])),onLoad:function(){var e=s(a.default.mark(function e(n){var r,i;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=getCurrentPages()[0].route,console.log("当前路由：",r," at pages\\facture\\factureManage.vue:86"),this.hasLogin||t.reLaunch({url:"/pages/wxAuth/wxAuth?returnUrl="+r}),i="新增发票信息",this.isShowDel=!1,"edit"===n.type&&(i="编辑发票信息",this.invoiceId=n.invoiceId,this.getData(this.invoiceId)),this.manageType=n.type,t.setNavigationBarTitle({title:i});case 8:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),methods:{switchChange:function(t){t.detail.value?this.factureData.isDefult=1:this.factureData.isDefult=0},getData:function(){var t=s(a.default.mark(function t(e){var n,r;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={invoiceId:e},t.next=3,this.$axios(this.$baseUrl.getInvoiceDetail,n);case 3:r=t.sent,200==r.data.code&&(this.factureData=r.data.data,this.isShowDel=!0);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),surDel:function(){var e=s(a.default.mark(function e(){var n,r;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={invoiceId:this.invoiceId},e.next=3,this.$axios(this.$baseUrl.delInvoice,n);case 3:r=e.sent,200==r.data.code&&(this.$api.msg("发票删除成功"),setTimeout(function(){t.navigateTo({url:"/pages/facture/facture"})},800));case 5:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),confirm:function(){var e=s(a.default.mark(function e(){var n,r,i;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.factureData,n.payable){e.next=4;break}return this.$api.msg("发票抬头不能为空"),e.abrupt("return");case 4:if(n.nsrsbh){e.next=7;break}return this.$api.msg("纳税人识别号不能为空"),e.abrupt("return");case 7:if(r=this.factureData,console.log(r," at pages\\facture\\factureManage.vue:155"),!this.subFlag){e.next=15;break}return this.subFlag=!1,e.next=13,this.$axios(this.$baseUrl.upDataInvoice,r);case 13:i=e.sent,200==i.data.code&&(this.subFlag=!0,this.$api.msg("发票".concat("edit"==this.manageType?"修改":"添加","成功")),setTimeout(function(){t.navigateTo({url:"/pages/facture/facture"})},800));case 15:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),toggleSpec:function(){var t=this;"show"===this.specClass?(this.specClass="hide",setTimeout(function(){t.specClass="none"},250)):"none"===this.specClass&&(this.specClass="show")},stopPrevent:function(){}}};e.default=f}).call(this,n("6e42")["default"])},cc35:function(t,e,n){"use strict";n.r(e);var a=n("784e"),r=n("5a58");for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);n("5f13");var u=n("2877"),s=Object(u["a"])(r["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports},dcb2:function(t,e,n){}},[["7c49","common/runtime","common/vendor"]]]);