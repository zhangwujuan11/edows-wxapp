<view class="container"><view class="carousel"><swiper data-event-opts="{{[['change',[['swiperChange',['$event']]]]]}}" bindchange="__e"><block wx:for="{{imgList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="swiper-item"><view class="image-wrapper"><image class="loaded" src="{{item?item:'/static/404.jpg'}}" mode="aspectFill"></image></view></swiper-item></block></swiper><swiper-dot class="dot" vue-id="1" current="{{current}}" list="{{imgList}}" bind:__l="__l"></swiper-dot></view><view class="introduce-section"><text class="title">{{productInfo.name}}</text><block wx:if="{{productInfo.subName}}"><view class="subTit"><text>{{productInfo.subName}}</text></view></block><view class="price-box"><text class="price-tip">¥</text><text class="price">{{productInfo.price}}</text></view><view class="bot-row"><text>{{"销量: "+productInfo.sellSum}}</text><text>{{"浏览量: "+productInfo.browseSum}}</text><button class="m-icon-share" open-type="share"></button></view></view><view class="c-list"><view data-event-opts="{{[['tap',[['toggleService',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">服务说明</text><view class="bz-list con"><block wx:for="{{serviceList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text>{{"· "+item.title}}</text></block></view><text class="yticon icon-you"></text></view><view data-event-opts="{{[['tap',[['toggleSpec',['default']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">购买类型</text><view class="con"><block wx:for="{{defualtAttrList}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem.attrValue+''}}</text></block></view><text class="yticon icon-you"></text></view></view><view class="{{['attr-cells',isFixed?'attr-cells-fixed':'']}}" id="attr-cells"><block wx:for="{{productNavs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['cngProNav',[index]]]]]}}" class="{{['attr-cell',currentIndex==index?'on':'']}}" bindtap="__e">{{item}}</view></block></view><block wx:if="{{currentIndex==0}}"><view class="detail-desc"><rich-text nodes="{{$root.f0}}"></rich-text></view></block><block wx:if="{{currentIndex==1}}"><view class="evalu-cont"><block wx:for="{{productComments}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{productComments.length}}"><view class="item-evalu"><view class="user-info-box"><view class="user-profile"><image src="{{item.showImg?item.showImg:'/static/missing-face.png'}}"></image></view><view class="user-nickName"><text>{{item.userName}}</text></view><view class="user-stars"><block wx:for="{{userStar}}" wx:for-item="subItem" wx:for-index="subIndex" wx:key="subIndex"><view class="star"><image src="{{subIndex<item.score?'/static/starOn.png':'/static/star.png'}}"></image></view></block></view><view class="publishData"><text>{{item.createDate}}</text></view></view><view class="evalu-conts">{{''+(item.content?item.content:'该用户暂无评论信息')+''}}</view><view class="evalu-product">{{''+item.attrValueVOList+''}}</view></view></block></block><block wx:if="{{!productComments.length}}"><view class="no-data">暂无评价信息</view></block></view></block><view class="page-bottom"><navigator class="p-b-btn" url="/pages/index/index" open-type="switchTab"><text class="yticon icon-xiatubiao--copy"></text><text>首页</text></navigator><view data-event-opts="{{[['tap',[['toCart',['$event']]]]]}}" class="p-b-btn" bindtap="__e"><text class="yticon icon-gouwuche"></text><text>购物车</text><block wx:if="{{productInfo.cartSum}}"><text class="showNo">{{productInfo.cartSum}}</text></block></view><view class="action-btn-group blueGraShadow"><button class=" action-btn no-border buy-now-btn" type="primary" data-event-opts="{{[['tap',[['toggleSpec',['buy']]]]]}}" bindtap="__e">立即购买</button><button class=" action-btn no-border add-cart-btn" type="primary" data-event-opts="{{[['tap',[['toggleSpec',['cart']]]]]}}" bindtap="__e">加入购物车</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleSpec',['default']]]]]}}" class="{{['popup spec',specClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="inner-layer"><view class="a-t"><image src="{{productInfo.masterImg?productInfo.masterImg:'/static/404.jpg'}}"></image><view class="right"><text class="price">{{"¥"+productInfo.price}}</text><view class="selected">已选：<block wx:for="{{defualtAttrList}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem.attrValue+''}}</text></block></view></view></view><scroll-view class="content-aside" scroll-y><block wx:for="{{attrList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="attr-list"><text>{{item.name}}</text><view class="item-list"><block wx:for="{{item.valueList}}" wx:for-item="subItem" wx:for-index="subIndex" wx:key="subIndex"><block wx:if="{{subItem.pCode===item.code}}"><text data-event-opts="{{[['tap',[['selectSpec',[index,subIndex,'$0'],[[['attrList','',index],['valueList','',subIndex,'pCode']]]]]]]}}" class="{{['tit',(subItem.selected)?'selected':'',(subItem.isShow==0)?'disabled':'']}}" bindtap="__e">{{''+subItem.name+''}}</text></block></block></view></view></block><view class="attr-number"><text>数量</text><view><uni-number-box class="step" vue-id="2" min="{{1}}" max="{{max}}" value="{{productNum}}" isMax="{{productNum>max?true:false}}" isMin="{{true}}" index="{{0}}" data-event-opts="{{[['^eventChange',[['numberChange']]],['^input',[['__set_model',['','productNum','$event',[]]]]]]}}" bind:eventChange="__e" bind:input="__e" bind:__l="__l"></uni-number-box></view></view></scroll-view></view><button data-event-opts="{{[['tap',[['toggleSpecSur',['$event']]]]]}}" class="btn" bindtap="__e">完成</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleService',['$event']]]]]}}" class="{{['popup spec',seviceClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer service-content" catchtap="__e"><view class="inner-service-content"><view class="service-title"><text>服务说明</text></view><block wx:for="{{serviceList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="item-service"><view class="item-service-tit">{{"· "+item.title}}</view><text>{{item.context?item.context:'暂无说明'}}</text></view></block></view></view></view><share class="vue-ref" vue-id="3" contentHeight="{{580}}" shareList="{{shareList}}" data-ref="share" bind:__l="__l"></share></view>