<view class="container"><view class="carousel"><swiper data-event-opts="{{[['change',[['swiperChange',['$event']]]]]}}" bindchange="__e"><block wx:for="{{imgList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="swiper-item"><view class="image-wrapper"><image class="loaded" src="{{item?item:'/static/404.jpg'}}" mode="aspectFill"></image></view></swiper-item></block></swiper><swiper-dot class="dot" vue-id="1" current="{{current}}" list="{{imgList}}" bind:__l="__l"></swiper-dot></view><view class="introduce-section"><text class="title">{{productInfo.name}}</text><view class="price-box"><text class="price-tip">¥</text><text class="price">{{productInfo.price}}</text></view></view><view class="c-list"><view data-event-opts="{{[['tap',[['toggleService',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">服务说明</text><view class="bz-list con"><block wx:for="{{serviceList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text>{{"· "+item.title}}</text></block></view><text class="yticon icon-you"></text></view><view data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">购买类型</text><view class="con"><block wx:for="{{defualtAttrList}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem.attrValue+''}}</text></block></view><text class="yticon icon-you"></text></view></view><view class="{{['attr-cells',isFixed?'attr-cells-fixed':'']}}"><view class="attr-cell on">商品详情</view></view><view class="detail-desc"><rich-text nodes="{{desc}}"></rich-text></view><view class="page-bottom"><view data-event-opts="{{[['tap',[['toFavorite',['$event']]]]]}}" class="{{['p-b-btn',(favorite)?'active':'']}}" bindtap="__e"><text class="m-icon-cell m-icon-cell-help"></text><button class="cell-tit" open-type="contact">服务</button></view><navigator class="p-b-btn" url="/pages/index/index" open-type="switchTab"><text class="yticon icon-xiatubiao--copy"></text><text>首页</text></navigator><navigator class="p-b-btn" url="/pages/cart/cart" open-type="switchTab"><text class="yticon icon-gouwuche"></text><text>购物车</text></navigator><view class="action-btn-group blueGraShadow"><button class=" action-btn no-border buy-now-btn" type="primary" data-event-opts="{{[['tap',[['buy',['$event']]]]]}}" bindtap="__e">立即购买</button><button class=" action-btn no-border add-cart-btn" type="primary">加入购物车</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleSpec',['$event']]]]]}}" class="{{['popup spec',specClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="inner-layer"><view class="a-t"><image src="{{productInfo.masterImg?productInfo.masterImg:'/static/404.jpg'}}"></image><view class="right"><text class="price">{{"¥"+productInfo.price}}</text><view class="selected">已选：<block wx:for="{{defualtAttrList}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem.attrValue+''}}</text></block></view></view></view><block wx:for="{{attrList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="attr-list"><text>{{item.name}}</text><view class="item-list"><block wx:for="{{item.valueList}}" wx:for-item="subItem" wx:for-index="subIndex" wx:key="subIndex"><block wx:if="{{subItem.pCode===item.code}}"><text data-event-opts="{{[['tap',[['selectSpec',[index,subIndex,'$0'],[[['attrList','',index],['valueList','',subIndex,'pCode']]]]]]]}}" class="{{['tit',(subItem.selected)?'selected':'']}}" bindtap="__e">{{''+subItem.name+''}}</text></block></block></view></view></block><view class="attr-number"><text>数量</text><view><uni-number-box class="step" vue-id="2" min="{{1}}" max="{{100}}" value="{{1}}" isMax="{{false}}" isMin="{{true}}" index="{{0}}" bind:__l="__l"></uni-number-box></view></view></view><button data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="btn" bindtap="__e">完成</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleService',['$event']]]]]}}" class="{{['popup spec',seviceClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer service-content" catchtap="__e"><view class="inner-service-content"><view class="service-title"><text>服务说明</text></view><block wx:for="{{serviceList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="item-service"><view class="item-service-tit">{{"· "+item.title}}</view><text>{{item.context?item.context:'暂无说明'}}</text></view></block></view></view></view><share class="vue-ref" vue-id="3" contentHeight="{{580}}" shareList="{{shareList}}" data-ref="share" bind:__l="__l"></share></view>