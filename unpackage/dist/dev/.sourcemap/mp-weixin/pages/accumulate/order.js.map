{"version":3,"sources":["uni-app:///main.js","webpack:///D:/XM/易道/edows-wxapp/pages/accumulate/order.vue?8c47","webpack:///D:/XM/易道/edows-wxapp/pages/accumulate/order.vue?0ece","webpack:///D:/XM/易道/edows-wxapp/pages/accumulate/order.vue?5431","webpack:///D:/XM/易道/edows-wxapp/pages/accumulate/order.vue?9cf8","uni-app:///pages/accumulate/order.vue","webpack:///D:/XM/易道/edows-wxapp/pages/accumulate/order.vue?ebeb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uniLoadMore","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","__map","navList","tabItem","tabIndex","$orig","__get_orig","g0","loaded","orderList","length","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","empty","computed","res","serviceNo","tabCurrentIndex","orderStatus","pageNo","pageSize","totalPage","refundDetailVO","seviceClass","shareCouponOrderList","optsType","state","text","textSpec","loadingType","allSelect","totalPrice","orderSnList","accountType","isOffline","onLoad","uni","url","methods","getData","params","item","navItem","loadData","setTimeout","changeTab","tabClick","confirm","content","success","orderSn","makePhoneCall","phoneNumber","toEvalu","deleteOrder","orderStateExp","stateTipColor","stateTip"],"mappings":"iJAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,6BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,YAAa,WACX,OAAO,uEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,SAAS,SAAUC,EAASC,GACjD,IAAIC,EAAQX,EAAIY,WAAWH,GACvBI,GAAwB,IAAnBJ,EAAQK,QAAgD,IAA7BL,EAAQM,UAAUC,OACtD,MAAO,CACLL,MAAOA,EACPE,GAAIA,OAGRb,EAAIiB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLjB,GAAIA,MAKRkB,GAAmB,EACnBC,EAAkB,GACtBxB,EAAOyB,eAAgB,G,iCCjDvB,yHAAioB,eAAG,G,gKCsEpoB,QAKA,g0BACA,CACAhC,YACAC,cACAgC,SAEAC,eACA,wCAEAR,gBACA,OACAS,OACAC,yBACAC,kBACAC,eACAf,aACAgB,SACAC,YACAC,YACAC,kBACAC,mBACAC,wBACAC,YACA7B,UACA8B,QACAC,UACAC,cACAV,eACAW,mBACA1B,cAEA,CACAuB,QACAC,WACAC,eACAC,mBACAX,kBACAf,cAEA,CACAuB,QACAC,WACAC,eACAC,mBACAX,kBACAf,cAEA,CACAuB,QACAC,WACAC,eACAC,mBACAX,kBACAf,eAGA2B,aACAC,aACAC,eACAC,cACAC,cAIAC,mBACA,iCACAlD,uBACA,eACAmD,YACAC,0CAOApD,qBACA,+FAEA,qGACA,8BAKA,YACA,iBAMAqD,SAEAC,sBAAA,8IAMA,OALA,SACAC,GACAtB,cACAC,gBACAC,qBACA,SAEA,kEACA,SADAL,SACA,YACAA,0BAGA,QACA,cACA,8BAGA,gDAIA,OAFA0B,kDAEA,OAEA,EAEA,UACA,6CAEA,qBAEA,iCACAC,uBAIA,sBAIA,uBACAN,wBACA,uBACAM,yBAGA,oBACAzD,sBACA,eACAyD,sBACA,2CAlDA,IAsDAC,qBAEA,2BACA,kBACA,gBACA1D,qBAEA,gCACA,yBAIA,4BAKAyD,wBACA,kBACAE,0BAEA,OAIAC,sBACA,sCACA,kBACA,cACA,iBACA,2BACA,kBACA,cACAH,eAEA,4BAGAI,qBACA,wBAIAC,oBAAA,oIACAtD,EACA2C,aACAY,iBACAC,mBAAA,oIACAlC,WAAA,eAGA,OAFAyB,GACAU,mBACA,SACA,qDAAAnC,OACAqB,cACAC,mCACA,2CAEA,sDAVAY,KAWA,0CAfA,IAmBAE,yBACAf,iBACAgB,2BACAH,mBACAhE,0BAKAoE,oBACAjB,cACAC,qDAIAiB,0BAAA,oIACAlB,aACAY,mBACAC,mBAAA,sIACAlC,WAAA,eAGA,OAFAyB,GACAU,mBACA,SACA,+CAAAnC,SACA,kBACA6B,uBACA,wBACA,KACA,2CAEA,sDAZAK,KAaA,0CAhBA,IAqBAM,0BACA,SACAC,YACA,WACA,SACAC,kCACA,MACA,SACAA,QACAD,YACA,MACA,SACAC,QACAD,YACA,MACA,SACAC,QACAD,YACA,MACA,SACAC,QACAD,YACA,MACA,SACAC,QACAD,YACA,MACA,SACAC,QACAD,YACA,MACA,SACAC,QACAD,YACA,MACA,SACAC,SACAD,YACA,MAGA,OACAC,WACAD,oBAKA,c,6DCjXA,yHAAwrC,eAAG,G","file":"pages/accumulate/order.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/accumulate/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=2f89e45a&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/accumulate/order.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=2f89e45a&\"","var components\ntry {\n  components = {\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.navList, function (tabItem, tabIndex) {\n    var $orig = _vm.__get_orig(tabItem)\n    var g0 = tabItem.loaded === true && tabItem.orderList.length === 0\n    return {\n      $orig: $orig,\n      g0: g0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"navbar\">\r\n\t\t\t<view v-for=\"(item, index) in navList\" :key=\"index\" class=\"nav-item\"\r\n\t\t\t\t:class=\"{current: tabCurrentIndex === index}\" @click=\"tabClick(index)\">\r\n\t\t\t\t{{accountType!=3 ? item.text : item.textSpec}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<swiper :current=\"tabCurrentIndex\" class=\"swiper-box\" :class=\"accountType==3 ? `p50` : ``\" duration=\"300\"\r\n\t\t\t@change=\"changeTab\">\r\n\t\t\t<swiper-item class=\"tab-content\" v-for=\"(tabItem,tabIndex) in navList\" :key=\"tabIndex\">\r\n\t\t\t\t<scroll-view class=\"list-scroll-content\" scroll-y @scrolltolower=\"loadData\">\r\n\t\t\t\t\t<!-- 空白页 -->\r\n\t\t\t\t\t<empty v-if=\"tabItem.loaded === true && tabItem.orderList.length === 0\"></empty>\r\n\r\n\t\t\t\t\t<view v-for=\"(item,index) in tabItem.orderList\" :key=\"index\" class=\"order-item\">\r\n\r\n\t\t\t\t\t\t<view class=\"order-item-info\">\r\n\t\t\t\t\t\t\t<view class=\"i-top b-b\">\r\n\t\t\t\t\t\t\t\t<text class=\"time\">{{item.orderSn}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"red\"\r\n\t\t\t\t\t\t\t\t\tv-if=\"(item.orderStatus==102 || item.orderStatus==103) && (item.refundStatus &&  item.refundStatus !=206 ) \">{{item.refundStatusValue}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"state\" :style=\"{color: item.stateTipColor}\"> {{item.stateTip}} </text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<navigator :url=\"`/pages/accumulate/orderDetail?orderSn=` + item.orderSn\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-box-single\">\r\n\t\t\t\t\t\t\t\t\t<image class=\"goods-img\" :src=\"item.masterImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"title clamp\">{{item.goodsTitle}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"red\">{{item.scoreNumber}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"blue\"> x {{item.totalSum}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</navigator>\r\n\r\n\r\n\t\t\t\t\t\t\t<view class=\"price-box\">\r\n\t\t\t\t\t\t\t\t共\r\n\t\t\t\t\t\t\t\t<text class=\"num\">{{item.totalSum}}</text>\r\n\t\t\t\t\t\t\t\t件商品 &nbsp;&nbsp;&nbsp;&nbsp;应付\r\n\t\t\t\t\t\t\t\t<text class=\"price red\">{{item.totalScoreNumber}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view class=\"action-box b-t\" v-if=\"item.orderStatus==103\">\r\n\t\t\t\t\t\t\t\t<button class=\"action-btn recom\" @click=\"confirm(item)\">确认收货</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action-box b-t\" v-if=\"item.orderStatus==105\">\r\n\t\t\t\t\t\t\t\t<button class=\"action-btn red\" @click=\"deleteOrder(index,item)\">删除订单</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action-box b-t\" v-if=\"item.orderStatus == 107\">\r\n\t\t\t\t\t\t\t\t<button class=\"action-btn blue\" @tap=\"makePhoneCall\">售后服务</button>\r\n\t\t\t\t\t\t\t\t<button class=\"action-btn recom\" @click=\"toEvalu(item)\"\r\n\t\t\t\t\t\t\t\t\tv-show=\"item.isComment\">去评价</button>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uni-load-more :status=\"tabItem.loadingType\"></uni-load-more>\r\n\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\timport uniLoadMore from '@/components/uni-load-more/uni-load-more.vue';\r\n\timport empty from \"@/components/empty\";\r\n\timport Json from '@/Json';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniLoadMore,\r\n\t\t\tempty\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['hasLogin', 'userInfo'])\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tres: {},\r\n\t\t\t\tserviceNo: \"400-988-6868\",\r\n\t\t\t\ttabCurrentIndex: 0,\r\n\t\t\t\torderStatus: '',\r\n\t\t\t\torderList: [],\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\ttotalPage: 0,\r\n\t\t\t\trefundDetailVO: [],\r\n\t\t\t\tseviceClass: 'none',\r\n\t\t\t\tshareCouponOrderList: [],\r\n\t\t\t\toptsType: '',\r\n\t\t\t\tnavList: [{\r\n\t\t\t\t\t\tstate: 0,\r\n\t\t\t\t\t\ttext: '全部',\r\n\t\t\t\t\t\ttextSpec: '全部',\r\n\t\t\t\t\t\torderStatus: \"\",\r\n\t\t\t\t\t\tloadingType: 'more',\r\n\t\t\t\t\t\torderList: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstate: 1,\r\n\t\t\t\t\t\ttext: '待付款',\r\n\t\t\t\t\t\ttextSpec: '已下单',\r\n\t\t\t\t\t\tloadingType: 'more',\r\n\t\t\t\t\t\torderStatus: \"101\",\r\n\t\t\t\t\t\torderList: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstate: 2,\r\n\t\t\t\t\t\ttext: '待收货',\r\n\t\t\t\t\t\ttextSpec: '待收货',\r\n\t\t\t\t\t\tloadingType: 'more',\r\n\t\t\t\t\t\torderStatus: \"102\", //已付款\r\n\t\t\t\t\t\torderList: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstate: 3,\r\n\t\t\t\t\t\ttext: '已完成',\r\n\t\t\t\t\t\ttextSpec: '已完成',\r\n\t\t\t\t\t\tloadingType: 'more',\r\n\t\t\t\t\t\torderStatus: \"107\", //已完成\r\n\t\t\t\t\t\torderList: []\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tallSelect: false,\r\n\t\t\t\ttotalPrice: 0,\r\n\t\t\t\torderSnList: [],\r\n\t\t\t\taccountType: 0,\r\n\t\t\t\tisOffline: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tlet returnUrl = getCurrentPages()[0].route;\r\n\t\t\tconsole.log('当前路由：', returnUrl);\r\n\t\t\tif (!this.hasLogin) {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/wxAuth/wxAuth?returnUrl=' + returnUrl\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t/**\r\n\t\t\t * 修复app端点击除全部订单外的按钮进入时不加载数据的问题\r\n\t\t\t * 替换onLoad下代码即可\r\n\t\t\t */\r\n\t\t\tconsole.log(options.state)\r\n\t\t\tthis.isOffline = uni.getStorageSync('userInfo').isOffline ? uni.getStorageSync('userInfo').isOffline : 0;\r\n\r\n\t\t\tthis.accountType = uni.getStorageSync('userInfo').accountType ? uni.getStorageSync('userInfo').accountType : 0;\r\n\t\t\tthis.tabCurrentIndex = +options.state;\r\n\t\t\t// #ifndef MP\r\n\t\t\tthis.loadData()\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP\r\n\t\t\tif (options.state == 0) {\r\n\t\t\t\tthis.loadData()\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t//得到数据\r\n\t\t\tasync getData(orderStatus, navItem) {\r\n\t\t\t\tthis.res = {};\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\torderStatus: orderStatus,\r\n\t\t\t\t\tpageNo: this.pageNo,\r\n\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet res = await this.$axios(this.$baseUrl.scoreGoodsOrderList, JSON.stringify(params));\r\n\t\t\t\tfor (var i in res.data.data) {\r\n\t\t\t\t\tres.data.data[i].flagSel = false;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tthis.res = res;\r\n\t\t\t\tif (this.pageNo == 1) {\r\n\t\t\t\t\tthis.totalPage = this.res.data.pages;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.orderList = this.res.data.data.filter(item => {\r\n\t\t\t\t\t//添加不同状态下订单的表现形式\r\n\t\t\t\t\titem = Object.assign(item, this.orderStateExp(item.orderStatus));\r\n\t\t\t\t\t//演示数据所以自己进行状态筛选\r\n\t\t\t\t\tif (orderStatus === \"\") {\r\n\t\t\t\t\t\t//0为全部订单\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (orderStatus === \"102\") {\r\n\t\t\t\t\t\treturn item.orderStatus === \"102\" || item.orderStatus === \"103\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item.orderStatus === orderStatus\r\n\t\t\t\t});\r\n\t\t\t\tthis.orderList.forEach(item => {\r\n\t\t\t\t\tnavItem.orderList.push(item);\r\n\t\t\t\t})\r\n\t\t\t\t//loaded新字段用于表示数据加载完毕，如果为空可以显示空白页\r\n\t\t\t\t//if(!this.res.data.data.length){\r\n\t\t\t\tthis.$set(navItem, 'loaded', true);\r\n\t\t\t\t//}\r\n\r\n\t\t\t\t//判断是否还有数据， 有改为 more， 没有改为noMore \r\n\t\t\t\tif (this.pageNo >= this.totalPage) {\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\tthis.pageNo = this.totalPage + 1;\r\n\t\t\t\t\tnavItem.loadingType = 'noMore';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.pageNo = this.pageNo + 1;\r\n\t\t\t\t\tconsole.log(this.pageNo)\r\n\t\t\t\t\tthis.getData(orderStatus, navItem);\r\n\t\t\t\t\tnavItem.loadingType = 'more';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//获取订单列表\r\n\t\t\tloadData(source) {\r\n\t\t\t\t//这里是将订单挂载到tab列表下\r\n\t\t\t\tlet index = this.tabCurrentIndex;\r\n\t\t\t\tlet navItem = this.navList[index];\r\n\t\t\t\tlet orderStatus = navItem.orderStatus;\r\n\t\t\t\tconsole.log(\"来源：\", source)\r\n\r\n\t\t\t\tif (source === 'tabChange' && navItem.loaded === true) {\r\n\t\t\t\t\tthis.$set(navItem, 'loaded', false);\r\n\t\t\t\t\t//tab切换只有第一次需要加载数据\r\n\t\t\t\t\t//return;\r\n\t\t\t\t}\r\n\t\t\t\tif (navItem.loadingType === 'loading') {\r\n\t\t\t\t\t//防止重复加载\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnavItem.loadingType = 'loading';\r\n\t\t\t\tthis.getData(orderStatus, navItem);\r\n\t\t\t\tsetTimeout(() => {\r\n\r\n\t\t\t\t}, 600);\r\n\t\t\t},\r\n\r\n\t\t\t//swiper 切换\r\n\t\t\tchangeTab(e) {\r\n\t\t\t\tthis.tabCurrentIndex = e.target.current;\r\n\t\t\t\tthis.orderList = [];\r\n\t\t\t\tthis.pageNo = 1;\r\n\t\t\t\tthis.totalPage = 0;\r\n\t\t\t\tlet index = this.tabCurrentIndex;\r\n\t\t\t\tlet navItem = this.navList[index];\r\n\t\t\t\tlet orderStatus = navItem.orderStatus;\r\n\t\t\t\tnavItem.orderList = [];\r\n\r\n\t\t\t\tthis.loadData('tabChange');\r\n\t\t\t},\r\n\t\t\t//顶部tab点击\r\n\t\t\ttabClick(index) {\r\n\t\t\t\tthis.tabCurrentIndex = index;\r\n\t\t\t},\r\n\r\n\t\t\t//确认收货 \r\n\t\t\tasync confirm(item) {\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '确认已收货？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\t\torderSn: item.orderSn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet res = await this.$axios(this.$baseUrl.scoreGoodsConfirmation, params);\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/order/order?state=3'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//联系客服\r\n\t\t\tmakePhoneCall() {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: this.serviceNo,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log(\"成功拨打电话\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//去评价\r\n\t\t\ttoEvalu(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/evaluate/evaluate?orderSn=' + item.orderSn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//删除订单\r\n\t\t\tasync deleteOrder(index, item) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '确认删除此订单？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\t\torderSn: item.orderSn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet res = await this.$axios(this.$baseUrl.scoreGoodsDelete, params);\r\n\t\t\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tthis.navList.splice(index, 1);\r\n\t\t\t\t\t\t\t\t}, 600)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t//订单状态文字和颜色\r\n\t\t\torderStateExp(state) {\r\n\t\t\t\tlet stateTip = '',\r\n\t\t\t\t\tstateTipColor = '#fa436a';\r\n\t\t\t\tswitch (+state) {\r\n\t\t\t\t\tcase 101:\r\n\t\t\t\t\t\tstateTip = (this.accountType == 3 ? '已下单' : '待付款');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 102:\r\n\t\t\t\t\t\tstateTip = '已付款';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 103:\r\n\t\t\t\t\t\tstateTip = '已发货';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 104:\r\n\t\t\t\t\t\tstateTip = '已签收';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 105:\r\n\t\t\t\t\t\tstateTip = '已取消';\r\n\t\t\t\t\t\tstateTipColor = '#909399';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 106:\r\n\t\t\t\t\t\tstateTip = '已退款';\r\n\t\t\t\t\t\tstateTipColor = '#333333';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 107:\r\n\t\t\t\t\t\tstateTip = '已完成';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 108:\r\n\t\t\t\t\t\tstateTip = '退款中';\r\n\t\t\t\t\t\tstateTipColor = '#333333';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 109:\r\n\t\t\t\t\t\tstateTip = '退款拒绝';\r\n\t\t\t\t\t\tstateTipColor = '#f04c41';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//更多自定义\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tstateTip,\r\n\t\t\t\t\tstateTipColor\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage,\r\n\t.content {\r\n\t\tbackground: $page-color-base;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.swiper-box {\r\n\t\theight: calc(100% - 40px);\r\n\r\n\t\t&.p50 {\r\n\t\t\tpadding-bottom: 110upx;\r\n\t\t}\r\n\t}\r\n\r\n\t.list-scroll-content {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.navbar {\r\n\t\tdisplay: flex;\r\n\t\theight: 40px;\r\n\t\tpadding: 0 5px;\r\n\t\tbackground: #fff;\r\n\t\tbox-shadow: 0 1px 5px rgba(0, 0, 0, .06);\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\r\n\t\t.nav-item {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 100%;\r\n\t\t\tfont-size: 15px;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&.current {\r\n\t\t\t\tcolor: $base-color;\r\n\r\n\t\t\t\t&:after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\twidth: 44px;\r\n\t\t\t\t\theight: 0;\r\n\t\t\t\t\tborder-bottom: 2px solid $base-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-swiper-item {\r\n\t\theight: auto;\r\n\t}\r\n\r\n\t.order-item {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground: #fff;\r\n\t\tmargin-top: 16upx;\r\n\r\n\t\t.icon-select {\r\n\t\t\twidth: 14%;\r\n\t\t}\r\n\r\n\t\t.order-item-info {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding-left: 30upx;\r\n\r\n\t\t\t&.inner-order-item {\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t\twidth: 86%;\r\n\t\t\t\tpadding-left: 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.refuseInfo {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 30upx;\r\n\t\t\ttop: 100upx;\r\n\t\t\twidth: 160upx;\r\n\t\t\theight: 160upx;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.06);\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tfont-size: $font-base;\r\n\t\t\tcolor: #999;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 160upx;\r\n\t\t}\r\n\r\n\t\t.i-top {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 80upx;\r\n\t\t\tpadding-right: 30upx;\r\n\t\t\tfont-size: $font-base;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.time {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.red {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground: $font-color-red;\r\n\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tpadding: 6upx 20upx;\r\n\t\t\t\tborder-radius: 40upx;\r\n\t\t\t\tmargin-right: 14upx;\r\n\t\t\t}\r\n\r\n\t\t\t.state {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t}\r\n\r\n\t\t\t.del-btn {\r\n\t\t\t\tpadding: 10upx 0 10upx 36upx;\r\n\t\t\t\tfont-size: $font-lg;\r\n\t\t\t\tcolor: $font-color-light;\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t&:after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\twidth: 0;\r\n\t\t\t\t\theight: 30upx;\r\n\t\t\t\t\tborder-left: 1px solid $border-color-dark;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 20upx;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 多条商品 */\r\n\t\t.goods-box {\r\n\t\t\theight: 160upx;\r\n\t\t\tpadding: 20upx 0;\r\n\t\t\twhite-space: nowrap;\r\n\r\n\t\t\t.goods-item {\r\n\t\t\t\twidth: 120upx;\r\n\t\t\t\theight: 120upx;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmargin-right: 24upx;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-img {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 单条商品 */\r\n\t\t.goods-box-single {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 20upx 0;\r\n\r\n\t\t\t.goods-img {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 120upx;\r\n\t\t\t\theight: 120upx;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tpadding: 0 30upx 0 24upx;\r\n\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: $font-base + 2upx;\r\n\t\t\t\t\tcolor: $font-color-dark;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.attr-box {\r\n\t\t\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\t\t\tcolor: $font-color-light;\r\n\t\t\t\t\tpadding: 10upx 12upx;\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tpadding-right: 10upx\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.price-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: baseline;\r\n\t\t\tpadding: 20upx 30upx;\r\n\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\tcolor: $font-color-light;\r\n\r\n\t\t\t.num {\r\n\t\t\t\tmargin: 0 8upx;\r\n\t\t\t\tcolor: $font-color-blue;\r\n\t\t\t}\r\n\r\n\t\t\t.price {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: $font-lg;\r\n\t\t\t\tcolor: $font-color-red;\r\n\r\n\t\t\t\t&:before {\r\n\t\t\t\t\tcontent: ' ';\r\n\t\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\t\tmargin: 0 2upx 0 8upx;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.action-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 100upx;\r\n\t\t\tposition: relative;\r\n\t\t\tpadding-right: 30upx;\r\n\t\t}\r\n\r\n\t\t.action-btn {\r\n\t\t\twidth: 160upx;\r\n\t\t\theight: 60upx;\r\n\t\t\tmargin: 0;\r\n\t\t\tmargin-left: 24upx;\r\n\t\t\tpadding: 0;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 60upx;\r\n\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tbackground: #fff;\r\n\r\n\t\t\t&:after {\r\n\t\t\t\tborder: none;\r\n\t\t\t\tborder-radius: 4upx;\r\n\t\t\t}\r\n\r\n\t\t\t&.red {\r\n\t\t\t\tcolor: $font-color-red;\r\n\t\t\t\tborder: 2upx solid $font-color-red;\r\n\t\t\t}\r\n\r\n\t\t\t&.blue {\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t\tborder: 2upx solid $base-color;\r\n\t\t\t}\r\n\r\n\t\t\t&.recom {\r\n\t\t\t\tbackground: $base-color;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tborder: 2upx solid $base-color;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.price {\r\n\t\tfont-size: $font-base + 2upx;\r\n\t\tcolor: $font-color-dark;\r\n\r\n\t\t.red {\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: $font-color-red;\r\n\t\t\tpadding-right: 14upx;\r\n\r\n\t\t\t&:after {\r\n\t\t\t\tcontent: '积分';\r\n\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\tmargin: 0 2upx 0 8upx;\r\n\t\t\t\tcolor: $font-color-red;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.blue {\r\n\t\t\tcolor: $font-color-blue;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}