{"version":3,"sources":["uni-app:///main.js","webpack:///D:/XM/易道/edows-wxapp/pages/order/orderSettle.vue?bdaf","webpack:///D:/XM/易道/edows-wxapp/pages/order/orderSettle.vue?2e4f","webpack:///D:/XM/易道/edows-wxapp/pages/order/orderSettle.vue?b8fb","webpack:///D:/XM/易道/edows-wxapp/pages/order/orderSettle.vue?4fd2","uni-app:///pages/order/orderSettle.vue","webpack:///D:/XM/易道/edows-wxapp/pages/order/orderSettle.vue?8639"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uniLoadMore","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l1","_self","_c","__map","navList","tabItem","tabIndex","$orig","__get_orig","g0","loaded","orderList","length","l0","tabCurrentIndex","item","index","g1","productList","g2","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","empty","computed","res","serviceNo","orderStatus","pageNo","pageSize","totalPage","accountBalance","refundDetailVO","state","text","loadingType","allSelect","totalPrice","orderSnList","accountType","onLoad","uni","url","methods","getData","params","settleStatus","navItem","loadData","setTimeout","changeTab","tabClick","selSet","sumLen","allSel","calcTotal","list","total","toSettleDetail","chackInfo","toSettle","toPay","provider","success","orderSn","openId","appId","timeStamp","nonceStr","package","signType","paySign","fail","confirm","content","refundOrder","refundOrderDetail","makePhoneCall","phoneNumber","toEvalu","deleteOrder","cancelOrder","title","stateTip","stateTipColor","orderStateExp"],"mappings":"kJAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,8BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,YAAa,WACX,OAAO,uEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,SAAS,SAAUC,EAASC,GACjD,IAAIC,EAAQX,EAAIY,WAAWH,GACvBI,GAAwB,IAAnBJ,EAAQK,QAAgD,IAA7BL,EAAQM,UAAUC,OAClDC,EACqB,GAAvBjB,EAAIkB,gBACAlB,EAAIO,MAAME,EAAQM,WAAW,SAAUI,EAAMC,GAC3C,IAAIT,EAAQX,EAAIY,WAAWO,GACvBE,EAAKF,EAAKG,YAAYN,OACtBO,EAAKJ,EAAKG,YAAYN,OAC1B,MAAO,CACLL,MAAOA,EACPU,GAAIA,EACJE,GAAIA,MAGR,KACN,MAAO,CACLZ,MAAOA,EACPE,GAAIA,EACJI,GAAIA,OAGRjB,EAAIwB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLxB,GAAIA,MAKRyB,GAAmB,EACnBC,EAAkB,GACtB/B,EAAOgC,eAAgB,G,iCC/DvB,yHAAuoB,eAAG,G,gKCiI1oB,QAGA,SAKA,g0BACA,CACAvC,YACAC,cACAuC,SAEAC,eACA,wCAEAR,gBACA,OACAS,OACAC,yBACAjB,kBACAkB,eACArB,aACAsB,SACAC,YACAC,YACAC,iBACAC,kBACAjC,UACAkC,QACAC,WACAP,eACAQ,mBACA7B,cAEA,CACA2B,QACAC,WACAC,mBACAR,kBACArB,cAEA,CACA2B,QACAC,WACAC,mBACAR,kBACArB,eAGA8B,aACAC,aACAC,eACAC,gBAIAC,mBACA,iCACApD,uBACA,eACAqD,YACAC,0CAOAtD,qBACA,qGACA,8BAKA,YACA,iBAMAuD,SAEAC,sBAAA,kJAEA,GADA,SACAxD,+BACA,sCAKA,OAJAyD,GACAlB,cACAC,gBACAC,qBACA,SACA,8DAKA,SALAJ,SACA,qBACA,gFAGA,YACAA,0BAEA,mBAKA,sCAMA,OALAqB,2BACAD,GACAC,eACAlB,gBACAC,qBACA,UACA,mEAGA,SAHAJ,SAEA,QACA,gBACA,qFACA,QAIA,cACA,8BAEA,4BAgBA,iCACAsB,uBAMA,sBAIA,uBACAN,wBACA,uBACAM,yBAGA,oBACA3D,sBACA,eACA2D,sBACA,2CA9EA,IAkFAC,qBAEA,2BACA,kBACA,gBACA5D,qBAEA,gCACA,yBAIA,4BAKA2D,wBACA,kBACAE,0BAEA,OAIAC,sBACA,sCACA,kBACA,cACA,iBACA,2BACA,kBACA,cACAH,eACA,kBACA,4BAIAI,qBACA,wBAIAC,mBAEAnE,qBAIA,IAHA,gCACA,WACA,IACA,YACA,eACAoE,MAGAjE,kCAEA,eADA,KAKA,kBAMAkE,kBAGA,mBACA,uCACA,wCAGA,sBACA,CACA,uCAEA,wCAGA,kBAEA,kBAIAC,qBAAA,WACA,oBACA,gCACA,iBAGA,QACAC,wBACA,gBACAC,4BACA,kCAGA,6BACArE,wCAGAsE,2BACAjB,cACAC,0DAKAiB,qBACA,kCACA,2BACA,IAMAC,oBAEA,qBACA,SAEAnB,cACAC,uEAIAmB,kBAAA,0IACAjE,IACA6C,SACAqB,kBACAC,mBAAA,kIAKA,OAJAlB,GACAmB,kBACAC,iEAEA7E,eAAA,SACA,yCAAAqC,SACArC,iCACAqD,kBACAqB,iBACAI,wBACAC,gCACAC,8BACAC,iCACAC,8BACAC,4BACAR,oBACAtB,cACAC,0DAGA8B,iBACA5E,mBACAR,0CAEA,2CAEA,sDA3BA2E,KA4BA,0CAhCA,IAmCAU,oBAAA,oIACA7E,EACA6C,aACAiC,iBACAX,mBAAA,oIACAtC,WAAA,eAGA,OAFAoB,GACAmB,mBACA,SACA,gDAAAvC,OACAgB,cACAC,mCACA,2CAEA,sDAVAqB,KAWA,0CAfA,IAmBAY,wBACAlC,cACAC,gDAsBAkC,8BACAnC,cACAC,sDAIAmC,yBACApC,iBACAqC,2BACAf,mBACA3E,0BAKA2F,oBACAtC,cACAC,qDAIAsC,0BAAA,oIACAvC,aACAiC,mBACAX,mBAAA,sIACAtC,WAAA,eAGA,OAFAoB,GACAmB,mBACA,SACA,0CAAAvC,SACA,kBACAwB,uBACA,qDACA,KACA,2CAEA,sDAZAc,KAaA,0CAhBA,IAmBAkB,wBAAA,4IAOA,OANAxC,eACAyC,cAEA9F,eACAyD,GACAmB,mBACA,SACA,0CAAAvC,SACA,kBACAwB,uBACA,MAGA,qBAFAkC,aACAC,kBAEA1E,mBACAiB,gBACAwD,WACAC,kBAIA,6BACA,kDACAzE,qBAEA8B,kBACA,KACA,0CA5BA,IAiCA4C,0BACA,SACAD,YACA,WACA,SACAD,QACA,MACA,SACAA,QACAC,YACA,MACA,SACAD,QACAC,YACA,MACA,SACAD,QACAC,YACA,MACA,SACAD,QACAC,YACA,MACA,SACAD,QACAC,YACA,MACA,SACAD,QACAC,YACA,MACA,SACAD,QACAC,YACA,MACA,SACAD,SACAC,YACA,MAGA,OACAD,WACAC,oBAIA,c,6DClnBA,yHAA8rC,eAAG,G","file":"pages/order/orderSettle.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/orderSettle.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./orderSettle.vue?vue&type=template&id=4795cc62&\"\nvar renderjs\nimport script from \"./orderSettle.vue?vue&type=script&lang=js&\"\nexport * from \"./orderSettle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderSettle.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/orderSettle.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderSettle.vue?vue&type=template&id=4795cc62&\"","var components\ntry {\n  components = {\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.navList, function (tabItem, tabIndex) {\n    var $orig = _vm.__get_orig(tabItem)\n    var g0 = tabItem.loaded === true && tabItem.orderList.length === 0\n    var l0 =\n      _vm.tabCurrentIndex == 0\n        ? _vm.__map(tabItem.orderList, function (item, index) {\n            var $orig = _vm.__get_orig(item)\n            var g1 = item.productList.length\n            var g2 = item.productList.length\n            return {\n              $orig: $orig,\n              g1: g1,\n              g2: g2,\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      g0: g0,\n      l0: l0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderSettle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderSettle.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"navbar\">\r\n\t\t\t<view v-for=\"(item, index) in navList\" :key=\"index\" class=\"nav-item\" :class=\"{current: tabCurrentIndex === index}\"\r\n\t\t\t @click=\"tabClick(index)\">\r\n\t\t\t\t{{item.text}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<swiper :current=\"tabCurrentIndex\" class=\"swiper-box p50\"  duration=\"300\" @change=\"changeTab\">\r\n\t\t\t<swiper-item class=\"tab-content\" v-for=\"(tabItem,tabIndex) in navList\" :key=\"tabIndex\">\r\n\t\t\t\t<scroll-view class=\"list-scroll-content\" scroll-y @scrolltolower=\"loadData\">\r\n\t\t\t\t\t<!-- 空白页 -->\r\n\t\t\t\t\t<empty v-if=\"tabItem.loaded === true && tabItem.orderList.length === 0\"></empty>\r\n\r\n\t\t\t\t\t<view v-if=\"tabCurrentIndex==0\">\r\n\t\t\t\t\t\t<!-- 订单列表 -->\r\n\t\t\t\t\t\t<view v-for=\"(item,index) in tabItem.orderList\" :key=\"index\" class=\"order-item\" @click=\"selSet(item)\">\r\n\t\t\t\t\t\t\t<!-- <view class=\"icon-select\">\r\n\t\t\t\t\t\t\t\t<text class=\"icon-radio\" :class=\"item.flagSel ? `icon-radio-ok` : `` \"></text>\r\n\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t<view class=\"order-item-info\">\r\n\t\t\t\t\t\t\t\t<view class=\"i-top b-b\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"time\">{{item.orderSn}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"state\">待结算 </text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<scroll-view v-if=\"item.productList.length > 1\" class=\"goods-box\" scroll-x>\r\n\t\t\t\t\t\t\t\t\t<navigator :url=\"`/pages/order/orderDetail?orderSn=` + item.orderSn\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-for=\"(goodsItem, goodsIndex) in item.productList\" :key=\"goodsIndex\" class=\"goods-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image class=\"goods-img\" :src=\"goodsItem.imgPath\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t\t\t<navigator :url=\"`/pages/order/orderDetail?orderSn=` + item.orderSn\">\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"goods-box-single\" v-if=\"item.productList.length === 1\" v-for=\"(goodsItem, goodsIndex) in item.productList\"\r\n\t\t\t\t\t\t\t\t :key=\"goodsIndex\">\r\n\t\t\t\t\t\t\t\t\t<image class=\"goods-img\" :src=\"goodsItem.imgPath\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"title clamp\">{{goodsItem.productName}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"attr-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-for=\"(subItem,subIndex) in goodsItem.attrValueVOList\" :key=\"subIndex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{subItem.attrValue}}\r\n\t\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"red\">{{goodsItem.productPrice}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"blue\"> x {{goodsItem.productNum}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"order-share\" v-if=\"item.shareCoupon\">优惠金额：<text class=\"price red\">{{item.couponAmount}}</text></view>\r\n\t\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t\t\t<view class=\"price-box\">\r\n\t\t\t\t\t\t\t\t\t共\r\n\t\t\t\t\t\t\t\t\t<text class=\"num\">{{item.totalSum}}</text>\r\n\t\t\t\t\t\t\t\t\t件商品 &nbsp;&nbsp;&nbsp;&nbsp;应付金额\r\n\t\t\t\t\t\t\t\t\t<text class=\"price red\">{{item.totalPrice}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-if=\"tabCurrentIndex!=0\">\r\n\t\t\t\t\t\t<view class=\"order-items\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view v-for=\"(item,index) in tabItem.orderList\" :key=\"index\" class=\"settleList chargeList\" @click=\"toSettleDetail(item)\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<view class=\"settleInfo\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<view class=\"settle-tit\" style=\"border:none\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"time\">{{item.createDate}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"state\">{{tabCurrentIndex ==1 ? `结算中` : `已结算`}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"settle-context\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"grey\">结算单号：</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text>{{item.accountSn}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"grey\">包含订单：</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"red\">{{item.orderCount}} </text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"grey\">结算金额：</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"red\">¥ {{item.orderPrice}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"showMore\" style=\"top:40%\"></text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uni-load-more :status=\"tabItem.loadingType\"></uni-load-more>\r\n\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t\t<view class=\"set-foot\">\r\n\t\t\t<view class=\"set-foot-info\">\r\n\t\t\t\t<!-- <view class=\"option-set-select\" @click=\"allSel\">\r\n\t\t\t\t\t<text class=\"icon-radio\" :class=\"allSelect ? `icon-radio-ok` : ``\"></text>\r\n\t\t\t\t\t<text>全选</text>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view class=\"set-money\">\r\n\t\t\t\t\t<text class=\"grey\">期初余额：</text>\r\n\t\t\t\t\t<text class=\"red p16\">¥ <text class=\"set-total-money\">{{accountBalance}}</text></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"set-foot-btn\" @click=\"toSettle\">\r\n\t\t\t\t<text>去结算</text>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\timport {\r\n\t\tfn\r\n\t} from '@/util/common.js';\r\n\timport uniLoadMore from '@/components/uni-load-more/uni-load-more.vue';\r\n\timport empty from \"@/components/empty\";\r\n\timport Json from '@/Json';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniLoadMore,\r\n\t\t\tempty\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['hasLogin', 'userInfo'])\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tres: {},\r\n\t\t\t\tserviceNo: \"400-988-6868\",\r\n\t\t\t\ttabCurrentIndex: 0,\r\n\t\t\t\torderStatus: '',\r\n\t\t\t\torderList: [],\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\ttotalPage: 0,\r\n\t\t\t\taccountBalance:0,\r\n\t\t\t\trefundDetailVO: [],\r\n\t\t\t\tnavList: [{\r\n\t\t\t\t\t\tstate: 0,\r\n\t\t\t\t\t\ttext: '待结算',\r\n\t\t\t\t\t\torderStatus: \"\",\r\n\t\t\t\t\t\tloadingType: 'more',\r\n\t\t\t\t\t\torderList: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstate: 1,\r\n\t\t\t\t\t\ttext: '结算中',\r\n\t\t\t\t\t\tloadingType: 'more',\r\n\t\t\t\t\t\torderStatus: \"101\",\r\n\t\t\t\t\t\torderList: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstate: 2,\r\n\t\t\t\t\t\ttext: '已结算',\r\n\t\t\t\t\t\tloadingType: 'more',\r\n\t\t\t\t\t\torderStatus: \"102\", //已付款\r\n\t\t\t\t\t\torderList: []\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tallSelect: false,\r\n\t\t\t\ttotalPrice: 0,\r\n\t\t\t\torderSnList: [],\r\n\t\t\t\taccountType: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tlet returnUrl = getCurrentPages()[0].route;\r\n\t\t\tconsole.log('当前路由：', returnUrl);\r\n\t\t\tif (!this.hasLogin) {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/wxAuth/wxAuth?returnUrl=' + returnUrl\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t/**\r\n\t\t\t * 修复app端点击除全部订单外的按钮进入时不加载数据的问题\r\n\t\t\t * 替换onLoad下代码即可\r\n\t\t\t */\r\n\t\t\tconsole.log(options.state)\r\n\t\t\tthis.accountType = uni.getStorageSync('userInfo').accountType ? uni.getStorageSync('userInfo').accountType : 0;\r\n\t\t\tthis.tabCurrentIndex = +options.state;\r\n\t\t\t// #ifndef MP\r\n\t\t\tthis.loadData()\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP\r\n\t\t\tif (options.state == 0) {\r\n\t\t\t\tthis.loadData()\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t//得到数据\r\n\t\t\tasync getData(orderStatus, navItem) {\r\n\t\t\t\tthis.res = {};\r\n\t\t\t\tconsole.log(this.tabCurrentIndex)\r\n\t\t\t\tif(this.tabCurrentIndex == 0){\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\torderStatus: orderStatus,\r\n\t\t\t\t\t\tpageNo: this.pageNo,\r\n\t\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet res = await this.$axios(this.$baseUrl.getDjsOrderList, JSON.stringify(params));\r\n\t\t\t\t\tif(res.data.data.length){\r\n\t\t\t\t\t\tthis.accountBalance = res.data.data[0].accountBalance ? res.data.data[0].accountBalance : 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i in res.data.data) {\r\n\t\t\t\t\t\tres.data.data[i].flagSel = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.res = res;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(this.tabCurrentIndex != 0){  \r\n\t\t\t\t\tvar settleStatus =  this.tabCurrentIndex==1 ? 1 : 2; \r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\tsettleStatus: settleStatus,\r\n\t\t\t\t\t\tpageNo: this.pageNo,\r\n\t\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet res = await this.$axios(this.$baseUrl.getOrderAccountList, JSON.stringify(params));\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.res = res;\r\n\t\t\t\t\tfor(var i in this.res.data.data) {\r\n\t\t\t\t\t\tthis.res.data.data[i].createDate = fn.formatTime(this.res.data.data[i].createDate, \"Y-M-D\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (this.pageNo == 1) {\r\n\t\t\t\t\tthis.totalPage = this.res.data.pages;\r\n\t\t\t\t}\r\n\t\t\t\tthis.orderList = this.res.data.data;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// this.orderList = this.res.data.data.filter(item => {\r\n\t\t\t\t// \t//添加不同状态下订单的表现形式\r\n\t\t\t\t// \titem = Object.assign(item, this.orderStateExp(item.orderStatus));\r\n\t\t\t\t// \t//演示数据所以自己进行状态筛选\r\n\t\t\t\t// \tif (orderStatus === \"\") {\r\n\t\t\t\t// \t\t//0为全部订单\r\n\t\t\t\t// \t\treturn item;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tif (orderStatus === \"102\") {\r\n\t\t\t\t// \t\treturn item.orderStatus === \"102\" || item.orderStatus === \"103\"\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \treturn item.orderStatus === orderStatus\r\n\t\t\t\t// });\r\n\t\t\t\tthis.orderList.forEach(item => {\r\n\t\t\t\t\tnavItem.orderList.push(item);\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//this.accountBalance = navItem.orderList[0].accountBalance ? navItem.orderList[0].accountBalance : 0;\r\n\t\t\t\t//loaded新字段用于表示数据加载完毕，如果为空可以显示空白页\r\n\t\t\t\t//if(!this.res.data.data.length){\r\n\t\t\t\tthis.$set(navItem, 'loaded', true);\r\n\t\t\t\t//}\r\n\r\n\t\t\t\t//判断是否还有数据， 有改为 more， 没有改为noMore \r\n\t\t\t\tif (this.pageNo >= this.totalPage) {\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\tthis.pageNo = this.totalPage + 1;\r\n\t\t\t\t\tnavItem.loadingType = 'noMore';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.pageNo = this.pageNo + 1;\r\n\t\t\t\t\tconsole.log(this.pageNo)\r\n\t\t\t\t\tthis.getData(orderStatus, navItem);\r\n\t\t\t\t\tnavItem.loadingType = 'more';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//获取订单列表\r\n\t\t\tloadData(source) {\r\n\t\t\t\t//这里是将订单挂载到tab列表下\r\n\t\t\t\tlet index = this.tabCurrentIndex;\r\n\t\t\t\tlet navItem = this.navList[index];\r\n\t\t\t\tlet orderStatus = navItem.orderStatus;\r\n\t\t\t\tconsole.log(\"来源：\", source)\r\n\r\n\t\t\t\tif (source === 'tabChange' && navItem.loaded === true) {\r\n\t\t\t\t\tthis.$set(navItem, 'loaded', false);\r\n\t\t\t\t\t//tab切换只有第一次需要加载数据\r\n\t\t\t\t\t//return;\r\n\t\t\t\t}\r\n\t\t\t\tif (navItem.loadingType === 'loading') {\r\n\t\t\t\t\t//防止重复加载\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnavItem.loadingType = 'loading';\r\n\t\t\t\tthis.getData(orderStatus, navItem);\r\n\t\t\t\tsetTimeout(() => {\r\n\r\n\t\t\t\t}, 600);\r\n\t\t\t},\r\n\r\n\t\t\t//swiper 切换\r\n\t\t\tchangeTab(e) {\r\n\t\t\t\tthis.tabCurrentIndex = e.target.current;\r\n\t\t\t\tthis.orderList = [];\r\n\t\t\t\tthis.pageNo = 1;\r\n\t\t\t\tthis.totalPage = 0;\r\n\t\t\t\tlet index = this.tabCurrentIndex;\r\n\t\t\t\tlet navItem = this.navList[index];\r\n\t\t\t\tlet orderStatus = navItem.orderStatus;\r\n\t\t\t\tnavItem.orderList = [];\r\n\t\t\t\tthis.allSelect = false;\r\n\t\t\t\tthis.loadData('tabChange');\r\n\r\n\t\t\t},\r\n\t\t\t//顶部tab点击\r\n\t\t\ttabClick(index) {\r\n\t\t\t\tthis.tabCurrentIndex = index;\r\n\t\t\t},\r\n\r\n\t\t\t//选择\r\n\t\t\tselSet(e) {\r\n\t\t\t\t//console.log(this.navList)\r\n\t\t\t\te.flagSel = !e.flagSel;\r\n\t\t\t\tlet list = this.navList[0].orderList; //正式改为1\r\n\t\t\t\tvar len = list.length;\r\n\t\t\t\tvar sumLen = 0;\r\n\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\tif (list[i].flagSel) {\r\n\t\t\t\t\t\tsumLen += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('订单长度：', len, ' 选中长度：', sumLen)\r\n\t\t\t\tif (len == sumLen) {\r\n\t\t\t\t\tthis.allSelect = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.allSelect = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.calcTotal();\r\n\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//全选\r\n\t\t\tallSel() {\r\n\t\t\t\t//this.allSelect = !this.allSelect;\r\n\r\n\t\t\t\tif (this.allSelect) {\r\n\t\t\t\t\tfor (var i in this.navList[0].orderList) {\r\n\t\t\t\t\t\tthis.navList[0].orderList[i].flagSel = false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.allSelect = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i in this.navList[0].orderList) {\r\n\t\t\t\t\t\t//if (this.pdlist[i].bargainSucc != 1) {\r\n\t\t\t\t\t\tthis.navList[0].orderList[i].flagSel = true;\r\n\t\t\t\t\t\t//}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.allSelect = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.calcTotal();\r\n\t\t\t},\r\n\r\n\t\t\t//计算总价\r\n\t\t\tcalcTotal() {\r\n\t\t\t\tthis.orderSnList = [];\r\n\t\t\t\tlet list = this.navList[0].orderList;\r\n\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\tif (item.flagSel === true) {\r\n\t\t\t\t\t\ttotal += parseFloat(item.totalPrice);\r\n\t\t\t\t\t\tthis.orderSnList.push(item.orderSn);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.totalPrice = total.toFixed(2);\r\n\t\t\t\tconsole.log(\"订单序号：\", this.orderSnList)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoSettleDetail(e){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/order/settleDetail?accountSn=' + e.accountSn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//判断信息\r\n\t\t\tchackInfo() {\r\n\t\t\t\tif (!this.orderSnList.length) {\r\n\t\t\t\t\tthis.$api.msg('请先选择订单号!');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\r\n\t\t\t//一级供应商去结算\r\n\t\t\ttoSettle() {\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tif (!this.chackInfo()) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/order/toSettle?orderSnList=' + this.orderSnList.join(',')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//去付款\r\n\t\t\tasync toPay(item) {\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess: async (loginRes) => {\r\n\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\torderSn: item.orderSn,\r\n\t\t\t\t\t\t\topenId: uni.getStorageSync('openId') ? uni.getStorageSync('openId') : ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(params)\r\n\t\t\t\t\t\tlet res = await this.$axios(this.$baseUrl.orderPayer, params);\r\n\t\t\t\t\t\tconsole.log(\"返回数据：\", res.data.data)\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\tappId: res.data.data.appId,\r\n\t\t\t\t\t\t\ttimeStamp: res.data.data.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: res.data.data.nonceStr,\r\n\t\t\t\t\t\t\tpackage: res.data.data.packageValue,\r\n\t\t\t\t\t\t\tsignType: res.data.data.signType,\r\n\t\t\t\t\t\t\tpaySign: res.data.data.paySign,\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/money/paySuccess?totalPrice=' + item.totalPrice\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t_self.$api.msg('支付失败');\r\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//确认收货 \r\n\t\t\tasync confirm(item) {\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '确认已收货？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\t\torderSn: item.orderSn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet res = await this.$axios(this.$baseUrl.orderConfirmation, params);\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/order/order?state=3'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//申请退款\r\n\t\t\trefundOrder(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/order/refund?orderSn=' + item.orderSn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//取消退款\r\n\t\t\t// async canncelRefundApply(item){\r\n\t\t\t// \tvar params = {\r\n\t\t\t// \t\toutRefundNo: item.outRefundNo\r\n\t\t\t// \t}\r\n\t\t\t// \tlet res = await this.$axios(this.$baseUrl.canncelRefundApply, params);\r\n\t\t\t// \tif(res.data.code == 200){\r\n\t\t\t// \t\tthis.$api.msg('取消退款成功');\r\n\t\t\t// \t\tsetTimeout(() => {\r\n\t\t\t// \t\t\t\r\n\t\t\t// \t\t\tuni.navigateTo({\r\n\t\t\t// \t\t\t\turl: '/pages/order/order?state=2'\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t\t}, 1000)\r\n\t\t\t// \t}\r\n\t\t\t// },\t\r\n\r\n\t\t\t//退款详情操作\r\n\t\t\trefundOrderDetail(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/order/refundDetail?orderSn=' + item.orderSn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//联系客服\r\n\t\t\tmakePhoneCall() {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: this.serviceNo,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log(\"成功拨打电话\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//去评价\r\n\t\t\ttoEvalu(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/evaluate/evaluate?orderSn=' + item.orderSn\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//删除订单\r\n\t\t\tasync deleteOrder(index, item) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '确认删除此订单？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\t\torderSn: item.orderSn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet res = await this.$axios(this.$baseUrl.deleteOrder, params);\r\n\t\t\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tthis.navList[this.tabCurrentIndex].orderList.splice(index, 1);\r\n\t\t\t\t\t\t\t\t}, 600)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//取消订单\r\n\t\t\tasync cancelOrder(item) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '请稍后'\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(item)\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\torderSn: item.orderSn\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$axios(this.$baseUrl.cancelOrder, params);\r\n\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tstateTip,\r\n\t\t\t\t\t\t\tstateTipColor\r\n\t\t\t\t\t\t} = this.orderStateExp(105);\r\n\t\t\t\t\t\titem = Object.assign(item, {\r\n\t\t\t\t\t\t\torderStatus: 105,\r\n\t\t\t\t\t\t\tstateTip,\r\n\t\t\t\t\t\t\tstateTipColor\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t//取消订单后删除待付款中该项\r\n\t\t\t\t\t\tlet list = this.navList[1].orderList;\r\n\t\t\t\t\t\tlet index = list.findIndex(val => val.id === item.id);\r\n\t\t\t\t\t\tindex !== -1 && list.splice(index, 1);\r\n\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}, 600)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//订单状态文字和颜色\r\n\t\t\torderStateExp(state) {\r\n\t\t\t\tlet stateTip = '',\r\n\t\t\t\t\tstateTipColor = '#fa436a';\r\n\t\t\t\tswitch (+state) {\r\n\t\t\t\t\tcase 101:\r\n\t\t\t\t\t\tstateTip = '待付款';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 102:\r\n\t\t\t\t\t\tstateTip = '已付款';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 103:\r\n\t\t\t\t\t\tstateTip = '已发货';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 104:\r\n\t\t\t\t\t\tstateTip = '已签收';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 105:\r\n\t\t\t\t\t\tstateTip = '已取消';\r\n\t\t\t\t\t\tstateTipColor = '#909399';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 106:\r\n\t\t\t\t\t\tstateTip = '已退款';\r\n\t\t\t\t\t\tstateTipColor = '#333333';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 107:\r\n\t\t\t\t\t\tstateTip = '已完成';\r\n\t\t\t\t\t\tstateTipColor = '#339cfe';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 108:\r\n\t\t\t\t\t\tstateTip = '退款中';\r\n\t\t\t\t\t\tstateTipColor = '#333333';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 109:\r\n\t\t\t\t\t\tstateTip = '退款拒绝';\r\n\t\t\t\t\t\tstateTipColor = '#f04c41';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//更多自定义\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tstateTip,\r\n\t\t\t\t\tstateTipColor\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage,\r\n\t.content {\r\n\t\tbackground: $page-color-base;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.swiper-box {\r\n\t\theight: calc(100% - 40px);\r\n\r\n\t\t&.p50 {\r\n\t\t\tpadding-bottom: 110upx;\r\n\t\t}\r\n\t}\r\n\r\n\t.list-scroll-content {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.navbar {\r\n\t\tdisplay: flex;\r\n\t\theight: 40px;\r\n\t\tpadding: 0 5px;\r\n\t\tbackground: #fff;\r\n\t\tbox-shadow: 0 1px 5px rgba(0, 0, 0, .06);\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\r\n\t\t.nav-item {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 100%;\r\n\t\t\tfont-size: 15px;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&.current {\r\n\t\t\t\tcolor: $base-color;\r\n\r\n\t\t\t\t&:after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\twidth: 44px;\r\n\t\t\t\t\theight: 0;\r\n\t\t\t\t\tborder-bottom: 2px solid $base-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-swiper-item {\r\n\t\theight: auto;\r\n\t}\r\n\r\n\t.order-items {\r\n\t\tposition: relative;\r\n\t\twidth: 680upx;\r\n\t\tmargin: 10px auto;\r\n\r\n\t\t.settleList {\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\talign-items: center;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-radius: 12upx;\r\n\t\t\tmargin-bottom: 24upx;\r\n\t\t\tpadding: 4upx 20upx 36upx 20px;\r\n\t\t\t.settleInfo{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\t.state{\r\n\t\t\t\t\tcolor: #339CFE;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.settle-tit {\r\n\t\t\t\theight: 80upx;\r\n\t\t\t\tline-height: 80upx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t.time{\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.settle-context {\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t.item-info {\r\n\t\t\t\t\tmargin-bottom: 20upx;\r\n\t\t\t\t\tmargin-top: 24upx;\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tborder-radius: 12upx;\r\n\t\t\t\t\tfont-size: 26upx;\r\n\t\t\t\t\t.grey{\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.red{\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tfont-size: 32upx;\r\n\t\t\t\t\t\tcolor: #e71e1e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t.showMore {\r\n\t    display: block;\r\n\t    position: absolute;\r\n\t    right: 20upx;\r\n\t    top: 40%;\r\n\t    width: 20upx;\r\n\t    height: 36upx;\r\n\t    background: url(../../static/go.png) no-repeat;\r\n\t    background-size: contain;\r\n\t}\r\n\r\n\t.order-item {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground: #fff;\r\n\t\tmargin-top: 16upx;\r\n\r\n\t\t.icon-select {\r\n\t\t\twidth: 14%;\r\n\t\t}\r\n\r\n\t\t.order-item-info {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding-left: 30upx;\r\n\r\n\t\t\t&.inner-order-item {\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t\twidth: 86%;\r\n\t\t\t\tpadding-left: 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.refuseInfo {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 30upx;\r\n\t\t\ttop: 100upx;\r\n\t\t\twidth: 160upx;\r\n\t\t\theight: 160upx;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.06);\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tfont-size: $font-base;\r\n\t\t\tcolor: #999;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 160upx;\r\n\t\t}\r\n\r\n\t\t.i-top {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 80upx;\r\n\t\t\tpadding-right: 30upx;\r\n\t\t\tfont-size: $font-base;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.time {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.red {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground: $font-color-red;\r\n\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\tpadding: 6upx 20upx;\r\n\t\t\t\tborder-radius: 40upx;\r\n\t\t\t\tmargin-right: 14upx;\r\n\t\t\t}\r\n\r\n\t\t\t.state {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: #339cfe;\r\n\t\t\t}\r\n\r\n\t\t\t.del-btn {\r\n\t\t\t\tpadding: 10upx 0 10upx 36upx;\r\n\t\t\t\tfont-size: $font-lg;\r\n\t\t\t\tcolor: $font-color-light;\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t&:after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\twidth: 0;\r\n\t\t\t\t\theight: 30upx;\r\n\t\t\t\t\tborder-left: 1px solid $border-color-dark;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 20upx;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 多条商品 */\r\n\t\t.goods-box {\r\n\t\t\theight: 160upx;\r\n\t\t\tpadding: 20upx 0;\r\n\t\t\twhite-space: nowrap;\r\n\r\n\t\t\t.goods-item {\r\n\t\t\t\twidth: 120upx;\r\n\t\t\t\theight: 120upx;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmargin-right: 24upx;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-img {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 单条商品 */\r\n\t\t.goods-box-single {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 20upx 0;\r\n\r\n\t\t\t.goods-img {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 120upx;\r\n\t\t\t\theight: 120upx;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tpadding: 0 30upx 0 24upx;\r\n\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: $font-base + 2upx;\r\n\t\t\t\t\tcolor: $font-color-dark;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.attr-box {\r\n\t\t\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\t\t\tcolor: $font-color-light;\r\n\t\t\t\t\tpadding: 10upx 12upx;\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tpadding-right: 10upx\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.price-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: baseline;\r\n\t\t\tpadding: 20upx 30upx;\r\n\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\tcolor: $font-color-light;\r\n\r\n\t\t\t.num {\r\n\t\t\t\tmargin: 0 8upx;\r\n\t\t\t\tcolor: $font-color-blue;\r\n\t\t\t}\r\n\r\n\t\t\t.price {\r\n\t\t\t\tfont-size: $font-lg;\r\n\t\t\t\tcolor: $font-color-red;\r\n\r\n\t\t\t\t&:before {\r\n\t\t\t\t\tcontent: '￥';\r\n\t\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\t\tmargin: 0 2upx 0 8upx;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.action-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 100upx;\r\n\t\t\tposition: relative;\r\n\t\t\tpadding-right: 30upx;\r\n\t\t}\r\n\r\n\t\t.action-btn {\r\n\t\t\twidth: 160upx;\r\n\t\t\theight: 60upx;\r\n\t\t\tmargin: 0;\r\n\t\t\tmargin-left: 24upx;\r\n\t\t\tpadding: 0;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 60upx;\r\n\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tbackground: #fff;\r\n\r\n\t\t\t&:after {\r\n\t\t\t\tborder: none;\r\n\t\t\t\tborder-radius: 4upx;\r\n\t\t\t}\r\n\r\n\t\t\t&.red {\r\n\t\t\t\tcolor: $font-color-red;\r\n\t\t\t\tborder: 2upx solid $font-color-red;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t&.blue {\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t\tborder: 2upx solid $base-color;\r\n\t\t\t}\r\n\r\n\t\t\t&.recom {\r\n\t\t\t\tbackground: $base-color;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tborder: 2upx solid $base-color;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.icon-radio {\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t\tdisplay: block;\r\n\t\tmargin: 0 auto;\r\n\t\tbackground: url(../../static/radios.png) no-repeat;\r\n\t\tbackground-size: contain;\r\n\r\n\t\t&.icon-radio-ok {\r\n\t\t\tbackground: url(../../static/ok.png) no-repeat;\r\n\t\t\tbackground-size: contain;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.price {\r\n\t\tfont-size: $font-base + 2upx;\r\n\t\tcolor: $font-color-dark;\r\n\t\r\n\t\t.red {\r\n\t\t\tcolor: $font-color-red;\r\n\t\t\tpadding-right: 14upx;\r\n\t\t}\r\n\t\r\n\t\t.blue {\r\n\t\t\tcolor: $font-color-blue;\r\n\t\r\n\t\t}\r\n\t\r\n\t\t&:before {\r\n\t\t\tcontent: '￥';\r\n\t\t\tfont-size: $font-sm;\r\n\t\t\tmargin: 0 2upx 0 8upx;\r\n\t\t\tcolor: $font-color-red;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.order-share {\r\n\t\tfont-size: $font-base;\r\n\t\tcolor: #999;\r\n\t\tline-height: 40upx;\r\n\t\tpadding: 10upx 30upx;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.set-foot {\r\n\t\tposition: fixed;\r\n\t\tz-index:9;\r\n\t\twidth: 100%;\r\n\t\tbackground: #fff;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t\theight: 108upx;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 9;\r\n\t}\r\n\r\n\t.set-foot-info {\r\n\t\twidth: 72%;\r\n\t\tmargin-left:26upx;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.option-set-select {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 120upx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 12px\r\n\t}\r\n\r\n\t.set-total-money,\r\n\t.red {\r\n\t\tcolor: #f04c41\r\n\t}\r\n\r\n\t.set-foot-btn {\r\n\t\twidth: 28%;\r\n\t\tbackground: #349cff;\r\n\t\ttext-align: center;\r\n\t\tline-height: 108upx;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\r\n\r\n\r\n\t/* load-more */\r\n\t.uni-load-more {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\theight: 80upx;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center\r\n\t}\r\n\r\n\t.uni-load-more__text {\r\n\t\tfont-size: 28upx;\r\n\t\tcolor: #999\r\n\t}\r\n\r\n\t.uni-load-more__img {\r\n\t\theight: 24px;\r\n\t\twidth: 24px;\r\n\t\tmargin-right: 10px\r\n\t}\r\n\r\n\t.uni-load-more__img>view {\r\n\t\tposition: absolute\r\n\t}\r\n\r\n\t.uni-load-more__img>view view {\r\n\t\twidth: 6px;\r\n\t\theight: 2px;\r\n\t\tborder-top-left-radius: 1px;\r\n\t\tborder-bottom-left-radius: 1px;\r\n\t\tbackground: #999;\r\n\t\tposition: absolute;\r\n\t\topacity: .2;\r\n\t\ttransform-origin: 50%;\r\n\t\tanimation: load 1.56s ease infinite\r\n\t}\r\n\r\n\t.uni-load-more__img>view view:nth-child(1) {\r\n\t\ttransform: rotate(90deg);\r\n\t\ttop: 2px;\r\n\t\tleft: 9px\r\n\t}\r\n\r\n\t.uni-load-more__img>view view:nth-child(2) {\r\n\t\ttransform: rotate(180deg);\r\n\t\ttop: 11px;\r\n\t\tright: 0\r\n\t}\r\n\r\n\t.uni-load-more__img>view view:nth-child(3) {\r\n\t\ttransform: rotate(270deg);\r\n\t\tbottom: 2px;\r\n\t\tleft: 9px\r\n\t}\r\n\r\n\t.uni-load-more__img>view view:nth-child(4) {\r\n\t\ttop: 11px;\r\n\t\tleft: 0\r\n\t}\r\n\r\n\t.load1,\r\n\t.load2,\r\n\t.load3 {\r\n\t\theight: 24px;\r\n\t\twidth: 24px\r\n\t}\r\n\r\n\t.load2 {\r\n\t\ttransform: rotate(30deg)\r\n\t}\r\n\r\n\t.load3 {\r\n\t\ttransform: rotate(60deg)\r\n\t}\r\n\r\n\t.load1 view:nth-child(1) {\r\n\t\tanimation-delay: 0s\r\n\t}\r\n\r\n\t.load2 view:nth-child(1) {\r\n\t\tanimation-delay: .13s\r\n\t}\r\n\r\n\t.load3 view:nth-child(1) {\r\n\t\tanimation-delay: .26s\r\n\t}\r\n\r\n\t.load1 view:nth-child(2) {\r\n\t\tanimation-delay: .39s\r\n\t}\r\n\r\n\t.load2 view:nth-child(2) {\r\n\t\tanimation-delay: .52s\r\n\t}\r\n\r\n\t.load3 view:nth-child(2) {\r\n\t\tanimation-delay: .65s\r\n\t}\r\n\r\n\t.load1 view:nth-child(3) {\r\n\t\tanimation-delay: .78s\r\n\t}\r\n\r\n\t.load2 view:nth-child(3) {\r\n\t\tanimation-delay: .91s\r\n\t}\r\n\r\n\t.load3 view:nth-child(3) {\r\n\t\tanimation-delay: 1.04s\r\n\t}\r\n\r\n\t.load1 view:nth-child(4) {\r\n\t\tanimation-delay: 1.17s\r\n\t}\r\n\r\n\t.load2 view:nth-child(4) {\r\n\t\tanimation-delay: 1.3s\r\n\t}\r\n\r\n\t.load3 view:nth-child(4) {\r\n\t\tanimation-delay: 1.43s\r\n\t}\r\n\r\n\t@-webkit-keyframes load {\r\n\t\t0% {\r\n\t\t\topacity: 1\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\topacity: .2\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderSettle.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderSettle.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}