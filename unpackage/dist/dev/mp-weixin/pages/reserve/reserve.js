(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/reserve/reserve"],{173:function(e,t,n){"use strict";(function(e,t){var r=n(4);n(26);r(n(25));var o=r(n(174));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},174:function(e,t,n){"use strict";n.r(t);var r=n(175),o=n(177);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n(181);var i,c=n(34),s=Object(c["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],i);s.options.__file="pages/reserve/reserve.vue",t["default"]=s.exports},175:function(e,t,n){"use strict";n.r(t);var r=n(176);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},176:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return a})),n.d(t,"components",(function(){return r}));try{r={listIndex:function(){return n.e("components/list-index/list-index").then(n.bind(null,763))},listBrand:function(){return n.e("components/list-brand/list-brand").then(n.bind(null,770))},uniDrawer:function(){return n.e("components/uni-drawer/uni-drawer").then(n.bind(null,777))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.flag?e.addressBook.length&&e.step2:null),r=e.flag?e.__map(e.vehicle,(function(t,n){var r=e.__get_orig(t),o=t.data&&t.data.length;return{$orig:r,g1:o}})):null;e.$mp.data=Object.assign({},{$root:{g0:n,l0:r}})},a=!1,i=[];o._withStripped=!0},177:function(e,t,n){"use strict";n.r(t);var r=n(178),o=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},178:function(e,t,n){"use strict";(function(e){var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(61)),a=r(n(11)),i=r(n(63)),c=(n(179),n(28)),s=n(180);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){n.e("components/list-index/list-index").then(function(){return resolve(n(763))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/list-brand/list-brand").then(function(){return resolve(n(770))}.bind(null,n)).catch(n.oe)},v=function(){n.e("components/uni-drawer/uni-drawer").then(function(){return resolve(n(777))}.bind(null,n)).catch(n.oe)},f={data:function(){return{subFlag:!0,flag:!1,step1:!0,step2:!1,step3:!1,brands:[],brandList:[],showRigth:!1,vehicle:[],select_path:[],winHeight:0,carList:[],arrWords:[],name:"",mobile:"",initStype:"0",serviceType:"",carTypeList:[],carInfoList:[],carType:"",carInfoId:"",brandId:"",provSelected:"京",initProv:"0",carNo:"",sTypeList:[{name:"请选择服务类型",value:"0",code:""},{name:"拆装",value:"1",code:"1"},{name:"更换",value:"2",code:"2"},{name:"修复",value:"3",code:"3"},{name:"贴膜",value:"4",code:"4"},{name:"其他",value:"5",code:"0"}],provList:[{code:"京",province:"北京",value:"1"},{code:"津",province:"天津",value:"2"},{code:"沪",province:"上海",value:"3"},{code:"渝",province:"重庆",value:"4"},{code:"冀",province:"河北",value:"5"},{code:"豫",province:"河南",value:"6"},{code:"云",province:"云南",value:"7"},{code:"辽",province:"辽宁",value:"8"},{code:"黑",province:"黑龙江",value:"9"},{code:"湘",province:"湖南",value:"10"},{code:"皖",province:"安徽",value:"11"},{code:"鲁",province:"山东",value:"12"},{code:"新",province:"新疆",value:"13"},{code:"苏",province:"江苏",value:"14"},{code:"浙",province:"浙江",value:"15"},{code:"赣",province:"江西",value:"16"},{code:"鄂",province:"湖北",value:"17"},{code:"桂",province:"广西",value:"18"},{code:"甘",province:"甘肃",value:"19"},{code:"晋",province:"山西",value:"20"},{code:"蒙",province:"内蒙古",value:"21"},{code:"陕",province:"陕西",value:"22"},{code:"吉",province:"吉林",value:"23"},{code:"闽",province:"福建",value:"24"},{code:"贵",province:"贵州",value:"25"},{code:"粤",province:"广东",value:"26"},{code:"青",province:"青海",value:"27"},{code:"藏",province:"西藏",value:"28"},{code:"川",province:"四川",value:"29"},{code:"宁",province:"宁夏",value:"30"},{code:"琼",province:"海南",value:"31"},{code:"使",province:"大使馆",value:"32"},{code:"领",province:"领士馆",value:"33"}],remarks:""}},onLoad:function(t){var n=this;return(0,i.default)(o.default.mark((function t(){var r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=getCurrentPages()[0].route,console.log("当前路由：",r),n.hasLogin||e.reLaunch({url:"/pages/wxAuth/wxAuth?returnUrl="+r}),e.$on("vechice_computed",(function(e){n.select_path.computed=!0,n.select_path.detail="string"===typeof e?e:"",console.debug(n.select_path)}));case 4:case"end":return t.stop()}}),t)})))()},onUnload:function(){e.$off("vechice_computed")},created:function(){var t=e.getSystemInfoSync().windowHeight;this.winHeight=t,this.getCarList()},mounted:function(){},computed:l(l({},(0,c.mapState)(["hasLogin","userInfo"])),{},{addressBook:function(){if(this.flag)return s.addressBook.list.filter((function(e){return e.data.length>0}))}}),components:{listIndex:d,listBrand:p,uniDrawer:v},methods:{bindPickerChange:function(e){var t=e.target.value;this.initStype=this.sTypeList[t].value,this.serviceType=this.sTypeList[t].code,console.log("this.serviceType携带值为",this.serviceType)},cngProChange:function(e){var t=e.target.value;this.initProv=this.provList[t].value-1,this.provSelected=this.provList[t].code,console.log("this.provSelected携带值为",this.provSelected)},toUpperCase:function(e){console.log("e：",this.carNo),this.carNo=this.carNo.toUpperCase()},showCar:function(){this.step1=!1,this.step2=!0,this.step3=!1},getCarList:function(){var e=this;return(0,i.default)(o.default.mark((function t(){var n,r,a,i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,e.$axios(e.$baseUrl.getCarBrandList,n);case 3:r=t.sent,200==r.data.code&&(a=r.data.data,i=[],i.push({letter:"TOP",data:[]}),a.filter((function(e){var t=i.findIndex((function(t){return t.letter==e["firstletter"]}));-1==t?i.push({letter:e["firstletter"],data:[{brand:e["name"],name:e["name"],id:e["id"],img:e["img"],md5:"12321313"}]}):i[t].data.push({brand:e["name"],name:e["name"],id:e["id"],img:e["img"],md5:"12321313"})})),s.addressBook.list=i,setTimeout((function(){e.flag=!0,console.log("addressBook：",s.addressBook)}),20));case 5:case"end":return t.stop()}}),t)})))()},chooseVehicle:function(e){console.log("最终车辆选择数据：",e),this.carType=e.name,this.step1=!0,this.step2=!1,this.step3=!1,this.showRigth=!1},chooseEvent:function(e){var t=this;return(0,i.default)(o.default.mark((function n(){var r,a,i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("选择的数据：",e),t.step1=!1,t.step2=!1,t.step3=!0,r=e.data.id,e.letter,a={brandId:r},[],n.next=10,t.$axios(t.$baseUrl.getCarSeriesList,a);case 10:i=n.sent,200==i.data.code&&(t.brandList=i.data.data);case 12:case"end":return n.stop()}}),n)})))()},chooseCarType:function(e){var t=this;return(0,i.default)(o.default.mark((function n(){var r,a,i,c,s;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("车辆品牌选择后信息：",e),r=e.data.id,a="",i=[],c={seriesId:r},n.next=7,t.$axios(t.$baseUrl.getCarInfoList,c);case 7:s=n.sent,200==s.data.code&&(t.showRigth=!0,s.data.data.filter((function(e){var t=i.findIndex((function(e){return e.letter==a}));-1==t?i.push({letter:a,data:[{VehicleId:e["id"],name:e["fullName"]}]}):i[t].data.push({VehicleId:e["id"],name:e["fullName"]})})),t.vehicle=i);case 9:case"end":return n.stop()}}),n)})))()},closeDrawer:function(e){this.showRigth=!1},confirm:function(){var t=this;return(0,i.default)(o.default.mark((function n(){var r,a,i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t,t.name){n.next=4;break}return t.$api.msg("客户姓名不能为空"),n.abrupt("return");case 4:if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.mobile)){n.next=7;break}return t.$api.msg("请输入正确的手机号码"),n.abrupt("return");case 7:if(t.serviceType){n.next=10;break}return t.$api.msg("请选择服务类型"),n.abrupt("return");case 10:if(a={carNo:t.provSelected+t.carNo,carType:t.carType,mobile:t.mobile,name:t.name,remarks:t.remarks,serviceType:t.serviceType},console.log(a),!t.subFlag){n.next=19;break}return t.subFlag=!1,n.next=16,t.$axios(t.$baseUrl.subReservationService,a);case 16:i=n.sent,200==i.data.code&&(t.subFlag=!0,e.navigateTo({url:"/pages/reserve/reserveSuc"})),setTimeout((function(){r.subFlag=!0}),3e3);case 19:case"end":return n.stop()}}),n)})))()}}};t.default=f}).call(this,n(2)["default"])},181:function(e,t,n){"use strict";n.r(t);var r=n(182),o=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},182:function(e,t,n){}},[[173,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/reserve/reserve.js.map